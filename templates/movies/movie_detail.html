{% extends "base.html" %}

{% block content %}
<div class="max-w-3xl mx-auto bg-white p-6 rounded-lg shadow-md">
    {% if movie %}
        <div class="flex flex-col md:flex-row md:space-x-6 mb-4">
            {% if movie.poster %}
                <img src="{{ movie.poster }}" alt="{{ movie.title }}" class="w-full md:w-64 rounded mb-4 md:mb-0 object-cover">
            {% endif %}
            <div class="flex-1">
                <h2 class="text-2xl font-bold text-indigo-600">{{ movie.title }} ({{ movie.year }})</h2>
                <p class="text-gray-700 mt-2"><strong>Description:</strong> {{ movie.description }}</p>
            </div>
        </div>

        <h3 class="text-xl font-semibold text-gray-800 mb-2">Reviews</h3>
        <ul class="space-y-3">
            {% for review in reviews %}
                <li class="border rounded p-3 shadow-sm">
                    <strong class="text-indigo-600">{{ review.user.username }}</strong>: {{ review.rating }}/10
                    {% if review.comment %}
                        <p class="text-gray-700 mt-1">{{ review.comment }}</p>
                    {% endif %}
                </li>
            {% empty %}
                <li class="text-gray-500">No reviews yet</li>
            {% endfor %}
        </ul>

        <a href="{% url 'movies:movie_list' %}" class="inline-block mt-4 text-indigo-600 hover:underline">
            ‚Üê Back to movies
        </a>
    {% else %}
        <p class="text-gray-500">No movie found for "{{ query }}"</p>
    {% endif %}
</div>
{% endblock %}
